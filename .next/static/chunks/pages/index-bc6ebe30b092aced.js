(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(5232)}])},5232:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var n=s(5893),a=s(9008),r=s.n(a),i=s(9034),o=s.n(i),l=s(7294),c=s(6154);let u=()=>{let[e,t]=(0,l.useState)(""),[s,n]=(0,l.useState)([]),[a,r]=(0,l.useState)(!1),[i,o]=(0,l.useState)(""),u=s=>{s.preventDefault(),a||(n(t=>[...t,{type:"user",message:e}]),m(e).then(()=>{t("")}))},m=e=>(r(!0),n(e=>[...e,{type:"bot",message:"Thinking...",role:"bot"}]),c.Z.post("/api/chat",{model:"gpt-3.5-turbo",messages:[{role:"user",content:e}]}).then(e=>{console.log(e),n(e=>e.slice(0,-1));let t=e.data.choices[0].message.content;n(e=>[...e,{type:"bot",message:t,role:"bot"}]),r(!1)}).catch(e=>{r(!1),console.log(e),o("Something went wrong. Please try again later.")}));return{inputValue:e,setInputValue:t,chatLog:s,setChatLog:n,isLoading:a,setIsLoading:r,handleSubmit:u,sendMessage:m,error:i}};var m=s(3056),h=s.n(m);let d=e=>{let{handleSubmit:t,setInputValue:s,inputValue:a}=e;return(0,n.jsx)("div",{className:h().barContainer,children:(0,n.jsxs)("form",{onSubmit:t,className:h().formParts,children:[(0,n.jsx)("input",{type:"text",placeholder:"Type a message",value:a,onChange:e=>s(e.target.value)}),(0,n.jsx)("button",{type:"submit",children:"Send"})]})})};var g=s(7094),p=s.n(g);let _=e=>{let{chatLog:t}=e;return(0,n.jsx)(n.Fragment,{children:t.map((e,t)=>"bot"===e.role?(0,n.jsx)("div",{className:p().botMessage,children:e.message},t):(0,n.jsx)("div",{className:p().userMessage,children:e.message},t))})};function x(){let{inputValue:e,setInputValue:t,handleSubmit:s,chatLog:a}=u();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("title",{children:"Mind Mate"}),(0,n.jsx)("meta",{name:"description",content:"I'm your mate, mate."}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("meta",{name:"theme-color",content:"#4B4B4B"}),(0,n.jsx)("link",{rel:"manifest",href:"manifest.json"}),(0,n.jsx)("link",{rel:"apple-touch-icon",href:"/apple-touch-icon.png"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("main",{className:o().main,children:[(0,n.jsx)("div",{className:o().header,children:(0,n.jsx)("h2",{children:"Mind Mate"})}),(0,n.jsx)(_,{chatLog:a}),(0,n.jsx)(d,{handleSubmit:s,setInputValue:t,inputValue:e})]})]})}},3056:function(e){e.exports={barContainer:"MessageBar_barContainer__RJdfG",formParts:"MessageBar_formParts__K2xtv"}},7094:function(e){e.exports={botMessage:"Messages_botMessage__ZsZpu",userMessage:"Messages_userMessage__ROV7x"}},9034:function(e){e.exports={main:"Home_main__nLjiQ",header:"Home_header__GCVRv"}}},function(e){e.O(0,[237,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);