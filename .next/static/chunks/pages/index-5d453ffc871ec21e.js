(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5232)}])},5232:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var n=t(5893),a=t(9008),r=t.n(a),i=t(9034),o=t.n(i),l=t(7294),c=t(6154);let m=()=>{let[e,s]=(0,l.useState)(""),[t,n]=(0,l.useState)([]),[a,r]=(0,l.useState)(!1),[i,o]=(0,l.useState)(""),m=t=>{t.preventDefault(),a||(n(s=>[...s,{type:"user",message:e}]),u(e).then(()=>{s("")}))},u=e=>(r(!0),n(e=>[...e,{type:"bot",message:"Thinking...",role:"bot"}]),c.Z.post("/api/chat",{model:"gpt-3.5-turbo",messages:[{role:"user",content:e}]}).then(e=>{console.log(e),n(e=>e.slice(0,-1));let s=e.data.choices[0].message.content;n(e=>[...e,{type:"bot",message:s,role:"bot"}]),r(!1)}).catch(e=>{r(!1),console.log(e),o("Something went wrong. Please try again later.")}));return{inputValue:e,setInputValue:s,chatLog:t,setChatLog:n,isLoading:a,setIsLoading:r,handleSubmit:m,sendMessage:u,error:i}};var u=t(3056),h=t.n(u);let _=e=>{let{handleSubmit:s,setInputValue:t,inputValue:a}=e;return(0,n.jsx)("div",{className:h().barContainer,children:(0,n.jsxs)("form",{onSubmit:s,className:h().formParts,children:[(0,n.jsx)("input",{type:"text",placeholder:"Type a message",value:a,onChange:e=>t(e.target.value)}),(0,n.jsx)("button",{type:"submit",children:"Send"})]})})};var d=t(7094),g=t.n(d);let p=e=>{let{chatLog:s}=e;return(0,n.jsx)("div",{className:g().messagesContainer,children:s.map((e,s)=>"bot"===e.role?(0,n.jsx)("div",{className:g().botMessage,children:e.message},s):(0,n.jsx)("div",{className:g().userMessage,children:e.message},s))})};function f(){let{inputValue:e,setInputValue:s,handleSubmit:t,chatLog:a}=m();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("title",{children:"Mind Mate"}),(0,n.jsx)("meta",{name:"description",content:"I'm your mate, mate."}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("meta",{name:"theme-color",content:"#4B4B4B"}),(0,n.jsx)("link",{rel:"manifest",href:"manifest.json"}),(0,n.jsx)("link",{rel:"apple-touch-icon",href:"/apple-touch-icon.png"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)("main",{className:o().main,children:(0,n.jsxs)("div",{className:o().mobileContainer,children:[(0,n.jsx)("div",{className:o().header,children:(0,n.jsx)("h2",{children:"Mind Mate"})}),(0,n.jsx)(p,{chatLog:a}),(0,n.jsx)(_,{handleSubmit:t,setInputValue:s,inputValue:e})]})})]})}},3056:function(e){e.exports={barContainer:"MessageBar_barContainer__RJdfG",formParts:"MessageBar_formParts__K2xtv"}},7094:function(e){e.exports={messagesContainer:"Messages_messagesContainer__U13mi",botMessage:"Messages_botMessage__ZsZpu",userMessage:"Messages_userMessage__ROV7x","safari-only":"Messages_safari-only__t61KA"}},9034:function(e){e.exports={main:"Home_main__nLjiQ",mobileContainer:"Home_mobileContainer__ktf1S",header:"Home_header__GCVRv"}}},function(e){e.O(0,[237,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);